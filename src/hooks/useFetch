import { useState, useEffect } from 'react'

const useFetch = async url => {
	const [data, setData] = useState(null)
	const [error, setError] = useState(null)
	const [loading, setLoading] = useState(false)

	setLoading(true)

	useEffect(() => {
        try {
            const resp = await fetch(URL)
    
            if (!resp.ok) {
                throw new Error('Niewłaściwy adres URL')
            }
    
            const json = await resp.json()
            setData(json)
    
            setError(false)
            setLoading(false)
        } catch (error) {
            setError(error.message)
            setData(null)
            setLoading(false)
        }
    }, [URL])

	

	return [data]
}
